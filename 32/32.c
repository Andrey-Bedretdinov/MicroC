// 32. Нормальный режим работы таймера: включить таймер в нормальном
// режиме работы, при переполнении таймера изменить состояние на выходе таймера.
//
// Вывод: PB1/OC1A (пин 13) -> выход
// ВАЖНО! FUSE бит CLKDIV8 должен быть не установлен (Unprogrammed)

#include <avr/io.h>

#define F_CPU 8000000UL // Частота процессора 8 МГц

int main(void) {
    // Настраиваем порт PB1 (OC1A) как выход
    DDRB |= (1 << PB1);

    // Устанавливаем режим работы OC1A: переключение состояния при переполнении
    TCCR1A |= (1 << COM1A0);

    // Запускаем таймер с предделителем 1
    TCCR1B |= (1 << CS10);

    // Таймер работает в нормальном режиме по умолчанию
    // Бесконечный цикл
    while (1) {
        // Таймер автоматически изменяет состояние на выходе
    }

    return 0; // Код никогда не достигает этой точки, но добавлен для соблюдения стандартов
}
